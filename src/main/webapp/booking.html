<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Your Package</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container my-5">
    <div class="card shadow-lg p-4">
      <h2 class="mb-3 text-center text-primary">Book Your Trip</h2>

      <!-- Show selected package -->
      <form action="Booking" method="post">
      <div class="mb-3">
        <label class="form-label">Selected Package</label>
        <input type="text" id="package-input" name="package" class="form-control" readonly>
      </div>
     
        <!-- Name -->
        <div class="mb-3">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-control" name="name" placeholder="Enter your name" required>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label">Email Address</label>
          <input type="email" class="form-control" name="email" placeholder="Enter your email" required>
        </div>

        <!-- Phone -->
        <div class="mb-3">
          <label class="form-label">Phone Number</label>
          <input type="tel" class="form-control" name="phone" placeholder="Enter your phone number" required>
        </div>

        <!-- Travel Date -->
        <div class="mb-3">
          <label class="form-label">Travel Date</label>
          <input type="date" class="form-control" name="date" required>
        </div>

        <!-- Adults / Children -->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Adults</label>
            <input type="number" id="adults" class="form-control" name="adult" value="1" min="1" required>
          </div>
          <div class="col-md-6 mb-3">
            <label class="form-label">Children</label>
            <input type="number" id="children" class="form-control" name="child" value="0" min="0">
          </div>
        </div>

        <!-- Special Requests -->
        <div class="mb-3">
          <label class="form-label">Special Requests</label>
          <textarea class="form-control" rows="3" name="req" placeholder="Any special requests?"></textarea>
        </div>

        <!-- Total Price -->
        <div class="mb-3">
          <label class="form-label fw-bold text-success">Total Price</label>
          <input type="text" id="totalPrice" name="price" class="form-control" readonly>
        </div>

        <!-- Submit -->
        <button type="submit" class="btn btn-success w-100">Confirm Booking</button>
      </form>
    </div>
  </div>

  <script>
    // Example prices (can later come from DB/Servlet)
    const params = new URLSearchParams(window.location.search);
const packageName = params.get("package");
const adultPrice = parseInt(params.get("adult")) || 0;
const childPrice = parseInt(params.get("child")) || 0;

if (packageName) {
  document.getElementById("package-input").value = packageName;
}

// Calculation function
function calculatePrice() {
  const adults = parseInt(document.getElementById("adults").value) || 0;
  const children = parseInt(document.getElementById("children").value) || 0;
  const total = (adults * adultPrice) + (children * childPrice);

  // show formatted in UI
  document.getElementById("totalPrice").value = "â‚¹ " + total.toLocaleString();

  // also save raw numeric in hidden field for DB
  document.getElementById("priceNumeric").value = total;
}

document.getElementById("adults").addEventListener("input", calculatePrice);
document.getElementById("children").addEventListener("input", calculatePrice);
calculatePrice(); // run on load
  </script>

</body>
</html>
